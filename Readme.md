# api调用全流程技术思路文档

## 技术思路
1. 接收两个齿轮的.step文件，使用`gear_assemble.py`文件将两个齿轮合并并啮合
    - 输入:两个齿轮的.step文件
    - 输出:两个齿轮合并以后的.step文件
2. 将组装后的.step文件通过`mesh_make.py`文件划分网格，并生成相应的.inp文件，但这一步骤目前存在问题，由gmsh生成的.inp文件无法直接作为输入，需要手动调整，目前尚未确认需要调整成什么样才能输入到**Calculix**有限元仿真软件里，此外，目前的自动识别有严重问题，识别严重错误，现在先用手动拉取标签进行，需要修改。
   - 输入:两个齿轮合并以后的.step文件
   - 输出:划分好网格的.unv文件，并转换为.inp文件
3. 将事先自己写好的包含了物理组信息(包括固定和转动，表面摩擦等在ansys中需要手动设定的物理信息)的.inp文件包含(include)划分网格的.inp文件里(目前仍然需要手动完成，无法自动完成)
    - 输入:划分网格的.inp文件，以及包含两个接触面信息的两个.sur文件
    - 输出:包含完整信息的.inp文件
4. 将生成的.inp文件输入到**Calculix**有限元求解器中，从而进行计算，目前为手动进行，可以通过修改`main.py`来完成。